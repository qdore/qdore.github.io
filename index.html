<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>QW&#39;s blog</title>
  <meta name="author" content="Qiang Wei">
  
  <meta name="description" content="Until the end of the world">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="QW&#39;s blog"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="QW&#39;s blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">QW&#39;s blog</a></h1>
  <h2><a href="/">Until the end of the world</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
      <li><a href="/about">about</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-04-15T04:41:24.000Z"><a href="/2014/04/15/文本操作/">4月 15 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/04/15/文本操作/">文本操作</a></h1>
  

    </header>
    <div class="entry">
      
        <h3 id="head和tail打印文件">head和tail打印文件</h3>
<ul>
<li><p>head -n 5 file : 打印前5行</p>
</li>
<li><p>tail -n 5 file : 打印后5行</p>
</li>
<li><p>seq 10|head -n 5 </p>
</li>
</ul>
<h3 id="切分数据">切分数据</h3>
<ul>
<li><p>file=some.jpg </p>
</li>
<li><p>echo ${file%.*} : 从后面删除匹配的数据(贪婪:%%)</p>
</li>
</ul>
<ul>
<li>echo ${file#*.} : 从前面删除匹配的数据(贪婪:##)</li>
</ul>
<h3 id="用cat进行连接">用cat进行连接</h3>
<ul>
<li><p>cat file1 file2 : 连接两个文件</p>
</li>
<li><p>cat -n file1 : 显示行号</p>
</li>
<li><p>cat -s file1 : 删除多余的空格行</p>
</li>
<li><p>cat -T file1 : 显示制表符为^I</p>
</li>
</ul>
<h3 id="统计文件行数,单词数,字符数">统计文件行数,单词数,字符数</h3>
<ul>
<li><p>wc -l file : 统计行数</p>
</li>
<li><p>wc -w file : 统计单词数</p>
</li>
<li><p>wc -c file : 统计指定的字符数</p>
</li>
<li><p>wc file : 分别打印行数,单词数和字符数</p>
</li>
<li><p>wc -L file : 打印最长一行的行数</p>
</li>
</ul>
<h3 id="tr字符转换">tr字符转换</h3>
<ul>
<li><p>tr &#39;A-Z&#39; &#39;a-z&#39; : 字符从大写转换到小写</p>
</li>
<li><p>tr &#39;0-9&#39; &#39;9876543210&#39; : 数字加密和解密</p>
</li>
<li><p>tr &#39;a-zA-Z&#39; &#39;n-za-mN-ZA-M&#39; :  ROT13加密和解密</p>
</li>
<li><p>tr -d &#39;0-9&#39; : 从字符中删除所有数字</p>
</li>
<li><p>tr -s &#39; &#39; : 压缩字符</p>
</li>
<li><p>tr &#39;\n&#39; &#39;+&#39; : 替换字符</p>
</li>
<li><p>tr &#39;[:lower:]&#39; &#39;[:upper:]&#39; : 从小写转换到大写</p>
</li>
</ul>
<pre><code>[<span class="link_label">:alnum:</span>] : 所有的字母和数字[<span class="link_label">0-9</span>][<span class="link_reference">a-z</span>][<span class="link_label">A-Z</span>]

[<span class="link_label">:alpha:</span>] : 所有的字母[<span class="link_label">a-z</span>][<span class="link_reference">A-Z</span>]

[:blank:] : 所有呈水平排列的空白字符

[:cntrl:] : 所有的控制字符

[:digit:] : 所有的数字[0-9]

[:graph:] : 所有的可打印字符，不包括空格

[:lower:] : 所有的小写字母[a-z]

[:print:]  : 所有的可打印字符，包括空格

[:punct:] : 所有的标点字符

[:space:] : 所有呈水平或垂直排列的空白字符

[:upper:] : 所有的大写字母[A-Z]

[:xdigit:] : 所有的十六进制数

[=字符=] : 所有和指定字符相等的字符

[O<span class="emphasis">*n] : 表示字符O重复出现指定次数 n。因此[O*</span>2]匹配OO的字符串
</code></pre><h3 id="greq匹配">greq匹配</h3>
<ul>
<li><p>grep asd file : 对file的内容进行匹配,并输出匹配到的行</p>
</li>
<li><p>grep -E [a-z]* file : 对file的内容进行正则表达式匹配</p>
</li>
<li><p>grep -o asd file : 只输出匹配到得部分</p>
</li>
<li><p>grep -v asd file : 打印没有匹配到的所有行</p>
</li>
<li><p>grep -c asd file : 打印匹配行的行数</p>
</li>
<li><p>grep -n asd file : 打印出匹配的行号</p>
</li>
<li><p>grep -bo asd file : 打印出字节偏移值和匹配的字符</p>
</li>
<li><p>grep -l asd file1 file2 : 打印出匹配文本位于哪一个文件中</p>
</li>
<li><p>grep -R asd . : 递归搜索匹配的字符</p>
</li>
<li><p>grep -i asd file : 不区分大小写</p>
</li>
<li><p>grep -e asd -e qwe file : 指定多个匹配样式</p>
</li>
<li><p>grep asd <em> —include </em>.txt : 指定某一类型的文件</p>
</li>
<li><p>grep asd <em> —exclude </em>.txt : 排除某一类型的文件</p>
</li>
<li><p>grep -z asd file | xargs -0 : 打印指定&#39;\0&#39;结尾</p>
</li>
<li><p>grep -q asd file : 静默输出,只有返回值</p>
</li>
<li><p>grep -A 3 asd file : 打印匹配结果之后的3行</p>
</li>
</ul>
<ul>
<li>grep -B 3 asd file : 打印匹配结果之前的3行</li>
</ul>
<ul>
<li>grep -C 3 asd file : 打印匹配结果之前和之后的3行</li>
</ul>
<h3 id="cut切分文件">cut切分文件</h3>
<ul>
<li><p>cut -f 2,3 file : 打印file的第二列第三列(以&#39;\t&#39;作定界符)</p>
</li>
<li><p>cut -f 2,3 —complete file : 打印补集</p>
</li>
<li><p>cut -f 2 -d &#39; &#39; file : 以空格做定界符</p>
</li>
<li><p>cut -c 1-5 file : 指定打印字符数</p>
</li>
<li><p>cut —output-delomiter , file : 指定输出定界符为&#39;,&#39;</p>
</li>
</ul>
<h3 id="paste拼接文件">paste拼接文件</h3>
<ul>
<li><p>paste file1 file2</p>
</li>
<li><p>paste -d , file1 file2 : 指定,为定界符</p>
</li>
</ul>
<h4 id="sed文本替换">sed文本替换</h4>
<ul>
<li><p>sed s/oldstring/newstring/ file : 替换第一处匹配到的字符串</p>
</li>
<li><p>sed s/oldstring/newstring/g file : 替换所有匹配到的字符串</p>
</li>
</ul>
<ul>
<li><p>sed s/oldstring/newstring/3g file : 替换第三次匹配到的字符串</p>
</li>
<li><p>sed /^$/d file : 删除空白行</p>
</li>
<li><p>sed -i s/oldstring/newstring/g file : 直接输出到file中</p>
</li>
</ul>
<h3 id="awk高级文本处理">awk高级文本处理</h3>
<h4 id="简洁用法:">简洁用法:</h4>
<pre><code><span class="variable">#cat</span> /etc/passwd <span class="subst">|</span>awk <span class="attribute">-F</span> <span class="subst">&amp;</span><span class="variable">#39</span>;:<span class="subst">&amp;</span><span class="variable">#39</span>; <span class="subst">&amp;</span><span class="variable">#39</span>;
</code></pre><p>BEGIN {print “name,shell”}<br>{print $1”\t”$7}<br>END {print “blue,/bin/nosh”}<br>&#39;<br>    root     /bin/bash </p>
<pre><code>daemon   /bin/sh 

bin      /bin/sh 

sys      /bin/sh

awk &amp;#<span class="number">39</span>;BEGIN { } {<span class="keyword">if</span>(<span class="keyword">match</span>(<span class="variable">$1</span>,<span class="string">"//"</span>)){<span class="keyword">print</span> substr(<span class="variable">$0</span>,<span class="number">3</span>)}<span class="keyword">else</span>{<span class="keyword">print</span> <span class="string">"//"</span><span class="variable">$0</span>} }END { }&amp;#<span class="number">39</span>;
</code></pre><h4 id="awk内置变量:">awk内置变量:</h4>
<pre><code>ARGC : 命令行参数个数


ARGV : 命令行参数排列

ENVIRON : 支持队列中系统环境变量的使用

FILENAME : awk浏览的文件名

FNR : 浏览文件的记录数

FS : 设置输入域分隔符，等价于命令行 -F选项

NF : 浏览记录的域的个数

NR : 已读的记录数

OFS : 输出域分隔符

ORS : 输出记录分隔符

RS : 控制记录分隔符

 <span class="variable">$0</span>  :  变量是指整条记录

 <span class="variable">$1</span>  :  表示当前行的第一个域
</code></pre><h4 id="awk内建的字符串控制函数">awk内建的字符串控制函数</h4>
<pre><code>gsub(r,<span class="keyword">s</span>) : 在整个<span class="variable">$0</span>中用<span class="keyword">s</span>替代r

gsub(r,<span class="keyword">s</span>,t) : 在整个t中用<span class="keyword">s</span>替代r

<span class="keyword">index</span>(<span class="keyword">s</span>,t) : 返回<span class="keyword">s</span>中字符串t的第一位置

<span class="keyword">length</span>(<span class="keyword">s</span>) : 返回<span class="keyword">s</span>长度

match(<span class="keyword">s</span>,r) : 测试<span class="keyword">s</span>是否包含匹配r的字符串

<span class="keyword">split</span>(<span class="keyword">s</span>,a,fs) : 在fs上将<span class="keyword">s</span>分成序列a

sprint(fmt,<span class="keyword">exp</span>) : 返回经fmt格式化后的<span class="keyword">exp</span>

<span class="sub"><span class="keyword">sub</span>(r,s) : 用$0中最左边最长的子串代替s

substr(s,p) : 返回字符串s中从p开始的后缀部分

substr(s,p,n) : 返回字符串s中从p开始长度为n的后缀部分</span>
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-04-15T04:41:24.000Z"><a href="/2014/04/15/进程和系统信息/">4月 15 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/04/15/进程和系统信息/">进程和系统信息</a></h1>
  

    </header>
    <div class="entry">
      
        <h3 id="ps和top收集进程信息">ps和top收集进程信息</h3>
<ul>
<li><p>ps : 显示运行在当前shell的进程</p>
</li>
<li><p>ps -f : 显示详细信息</p>
</li>
<li><p>ps -e : 显示每个进程</p>
</li>
<li><p>ps -o comm,pcpu : 显示需要的输出列</p>
</li>
<li><p>ps -u user -U user : 指定有效用户位和真实用户位</p>
</li>
<li><p>top : 显示占用最多cpu的进程列表</p>
</li>
<li><p>pgrep bash : 获得特定命令的进程ID列表</p>
</li>
</ul>
<h3 id="kill给进程发送信号">kill给进程发送信号</h3>
<ul>
<li><p>kill -l : 列出所有信号(kill -l |tr &#39; &#39; &#39;\n&#39;| cat -n)</p>
</li>
<li><p>kill -9 PID : 对进程发送终止信号</p>
</li>
<li><p>killall -9 进程名 : 对进程发送信号</p>
</li>
<li><p>trap &#39;function name&#39; SIGINT : 当SIGINT发生时调用函数</p>
</li>
</ul>
<h3 id="wall像其它终端发送信息">wall像其它终端发送信息</h3>
<ul>
<li><p>echo shut down | wall</p>
</li>
<li><p>mesg y</p>
</li>
<li><p>mesg n</p>
</li>
</ul>
<h3 id="系统信息">系统信息</h3>
<ul>
<li><p>hostname \ uname -n : 打印主机名</p>
</li>
<li><p>uname -a : 打印内核版本</p>
</li>
<li><p>uname -r : 打印内核发行版本</p>
</li>
<li><p>uname -m : 打印主机类型</p>
</li>
</ul>
<h3 id="cron任务调度">cron任务调度</h3>
<ul>
<li><p>分钟 小时 天 月份 工作日 命令</p>
</li>
<li><p>02 * * * * command : 每天每小时的02分钟执行command</p>
</li>
<li><p>00 */12 * * * command : 每个小时执行command</p>
</li>
<li><p>crontab -e : 编辑cron表</p>
</li>
<li><p>在cron表中加入 -&gt; @reboot command : 启动时运行命令</p>
</li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-04-15T04:41:24.000Z"><a href="/2014/04/15/文件操作/">4月 15 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/04/15/文件操作/">文件操作</a></h1>
  

    </header>
    <div class="entry">
      
        <h3 id="find文件查找">find文件查找</h3>
<ul>
<li><p>find . : 打印当前目录及子目录</p>
</li>
<li><p>find path -name some.jpg -delete : 搜索path目录下的some.jpg文件并删除</p>
</li>
<li><p>find path -iname some.jpg : 不区分大小写</p>
</li>
<li><p>find path ! -name <em>.jpg : 排除</em>.jpg</p>
</li>
<li><p>find path -rejex .*(.py|.sh) : 匹配正则表达式</p>
</li>
</ul>
<ul>
<li><p>find path -irejex .*(.py|.sh) : 不区分大小写匹配正则表达式</p>
</li>
<li><p>find path -maxdepth 2 -name some.jpg : 最大深度2</p>
</li>
<li><p>find path -mindepth 2 -name some.jpg : 最小深度2</p>
</li>
</ul>
<ul>
<li><p>find path -type f -name  some.jpg : 指定文件类型</p>
</li>
<li><p>find path -size -7k -atime -7 : 打印7天内访问的文件</p>
</li>
<li><p>find path -exec rm {} : 用exec对找到的文件进行操作</p>
</li>
</ul>
<pre><code>atime : 访问时间


mtime : 修改时间


ctime : 变化时间


size : 文件大小


<span class="command">\(</span>-name .git -prune<span class="command">\)</span> : 跳过.git文件夹
</code></pre><h3 id="生成任意文件的大小">生成任意文件的大小</h3>
<ul>
<li>sudo dd if=/dev/disk0 of=tem bs=10 count=1</li>
</ul>
<h3 id="排序,唯一和重复">排序,唯一和重复</h3>
<ul>
<li><p>sort file1 file2 : 默认按首字符进行排序</p>
</li>
<li><p>sort -n temp1 temp2 : 对每一行首单词按数字顺序进行排序</p>
</li>
<li><p>sort -r file1 : 逆序排序</p>
</li>
<li><p>sort -n temp1 temp2 | uniq :找出排序后不重复的行</p>
</li>
<li><p>sort -rnk 1,2 temp1 temp2 :k指定列号进行排序</p>
</li>
<li><p>sort -z file1 | xargs -0 : 用&#39;\0&#39;做定界符</p>
</li>
<li><p>unique file1 : 删除相邻的重复行</p>
</li>
<li><p>sort file1 | unique -u : 显示不重复的行</p>
</li>
<li><p>sort file1 | unique -c : 统计每行出现的行数</p>
</li>
</ul>
<h3 id="文本文件的交和差(以行为单位且需要排序)">文本文件的交和差(以行为单位且需要排序)</h3>
<ul>
<li><p>comm file1 file2 : 第一列是只在file1中出现的行,第二列是只在file2出现的行,第三列是共有的行</p>
</li>
<li><p>comm file1 file2 -1 : 删除第一列</p>
</li>
</ul>
<h3 id="文件权限,所有权和粘滞位">文件权限,所有权和粘滞位</h3>
<ul>
<li><p>chmod a+x filename : 给所有用户增加可执行全乡</p>
</li>
<li><p>chown user.group filename : 更改文件的所有权</p>
</li>
<li><p>chmod a+t directory_name : 给目录设置为粘滞位</p>
</li>
<li><p>chmod +s filename : setuid的特殊文件权限设置</p>
</li>
<li><p>chattr +i file : 文件不可修改</p>
</li>
</ul>
<h3 id="文件和符号链接的生成">文件和符号链接的生成</h3>
<ul>
<li><p>touch filename : 生成空白文件</p>
</li>
<li><p>ln -s file link : 对file生成链接</p>
</li>
<li><p>readlink link : 打印链接指向的目标路径</p>
</li>
<li><p>file file : 查看文件类型</p>
</li>
<li><p>diff file1 file2 : 查看文件差异</p>
</li>
</ul>
<h3 id="加密与解密">加密与解密</h3>
<ul>
<li><p>md5 file : 计算文件的md5值</p>
</li>
<li><p>base64 file &gt;outfile : 加密</p>
</li>
<li><p>base64 -d file&gt;outfile : 解密</p>
</li>
</ul>
<h3 id="创建临时文件">创建临时文件</h3>
<ul>
<li><p>mktemp tmp.XXXXXX : 创建临时文件</p>
</li>
<li><p>mktemp -d tmp.XXXXXX : 创建临时文件夹</p>
</li>
</ul>
<h3 id="pushd和popd">pushd和popd</h3>
<ul>
<li><p>pushd . : 把当前目录压栈</p>
</li>
<li><p>pushd +1 : 跳转目录</p>
</li>
<li><p>dirs : 列出当前栈中的目录</p>
</li>
<li><p>popd : 推出目录</p>
</li>
<li><p>popd +1 : 推出目录</p>
</li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-04-15T04:41:24.000Z"><a href="/2014/04/15/otool 和 install_name_tool/">4月 15 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/04/15/otool 和 install_name_tool/">otool 和 install_name_tool</a></h1>
  

    </header>
    <div class="entry">
      
        <p>otool -L yourapp.app/Contents/MacOS/yourapp</p>
<p>显示程序所需的动态库</p>
<p>install_name_tool -change  old_path new_path</p>
<p>更改程序内部的动态库</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-04-15T04:41:24.000Z"><a href="/2014/04/15/git/">4月 15 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/04/15/git/">git</a></h1>
  

    </header>
    <div class="entry">
      
        <h3 id="git初始化设置">git初始化设置</h3>
<ul>
<li><p>git config —global user.name “qiangwei1992”  </p>
</li>
<li><p>git config —global user.email “1486759578@qq.com”  </p>
</li>
</ul>
<hr>
<h3 id="git操作">git操作</h3>
<h4 id="创建git库">创建git库</h4>
<ul>
<li>git init  </li>
</ul>
<h4 id="添加文件">添加文件</h4>
<ul>
<li><p>git add .</p>
</li>
<li><p>git add *</p>
</li>
</ul>
<h4 id="删除文件">删除文件</h4>
<ul>
<li><p>git rm *</p>
</li>
<li><p>git rm —ached f1(只删除git中的f1)</p>
</li>
</ul>
<h4 id="提交当前工作目录的修改内容(本地)">提交当前工作目录的修改内容(本地)</h4>
<ul>
<li><p>git commit -m “first”</p>
</li>
<li><p>git commit —amend -m “first” (覆盖first)</p>
</li>
</ul>
<h4 id="查看版本库的状态和日志">查看版本库的状态和日志</h4>
<ul>
<li><p>git status</p>
</li>
<li><p>git log -5(5表示显示5条记录)</p>
</li>
<li><p>git log —stat -s</p>
</li>
</ul>
<h4 id="提交到github服务器">提交到github服务器</h4>
<ul>
<li><p>git remote add origin <a href="https://github.com/qiangwei1992/test.git" target="_blank">https://github.com/qiangwei1992/test.git</a>  (添加该网址的版本库的名字为origin)</p>
</li>
<li><p>git push -u origin master (提交到origin的master)</p>
</li>
</ul>
<h4 id="git库的逆转和恢复">git库的逆转和恢复</h4>
<ul>
<li><p>git reset 41004c42348d68270693789c1ae9abac089b18c2(只删除log日志并替换暂存区)</p>
</li>
<li><p>git reset —hard 41004c42348d68270693789c1ae9abac089b18c2(删除日志并恢复工作区)</p>
</li>
<li><p>git revert 41004c42348d68270693789c1ae9abac089b18c2 (将它再提交一次)</p>
</li>
</ul>
<h4 id="git分支">git分支</h4>
<ul>
<li><p>git branch : 显示git分支</p>
</li>
<li><p>git branch name : 转到分支</p>
</li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-04-15T04:41:24.000Z"><a href="/2014/04/15/基本语法/">4月 15 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/04/15/基本语法/">基本语法</a></h1>
  

    </header>
    <div class="entry">
      
        <h3 id="输出">输出</h3>
<ul>
<li><p>printf “hello world”</p>
</li>
<li><p>printf “%-10s” Mark</p>
</li>
<li><p>echo -e “\t\n”</p>
</li>
</ul>
<ul>
<li>echo -e “\e[1;31mThis is red text\e[0m”  </li>
</ul>
<h3 id="变量赋值">变量赋值</h3>
<ul>
<li><p>var=app</p>
</li>
<li><p>var = app       :  这是比较操作</p>
</li>
<li><p>echo ${var}le</p>
</li>
</ul>
<ul>
<li>export PATH=”${PATH}:/usr/sbin”</li>
</ul>
<ul>
<li><p>echo $UID       :  显示用户身份,root用户为0</p>
</li>
<li><p>echo ${#var}      :   #显示变量的长度</p>
</li>
</ul>
<h3 id="变量运算">变量运算</h3>
<ul>
<li><p>var1=1;var2=3</p>
</li>
<li><p>let result=var1+var2</p>
</li>
<li><p>result=$[var1+var2]</p>
</li>
<li><p>echo $var1*$var2+3 | bc     :    bc:科学计算器</p>
</li>
<li><p>echo “scale=1;3/8” | bc      :    小数精度1</p>
</li>
<li><p>echo “ibase=10;obase=2;sqrt(100) “ | bc     :     小数精度1</p>
</li>
</ul>
<h3 id="重定向">重定向</h3>
<ul>
<li><p>echo “QW” &gt; temp     :  截断存储</p>
</li>
<li><p>echo “QW” &gt;&gt; temp    :   追加存储</p>
</li>
<li><p>ls + 2&gt; temp     :   错误信息重定向到文件</p>
</li>
<li><p>ls + 2&gt;&amp;1 temp   :    标准信息和错误信息重定向到文件</p>
</li>
<li><p>ls + &amp;&gt; temp    :    标准信息和错误信息重定向到文件</p>
</li>
<li><p>bash &lt; temp :       :    从文件中读取数据</p>
</li>
</ul>
<h3 id="文件描述符">文件描述符</h3>
<ul>
<li><p>exec 3&lt;temp</p>
</li>
<li><p>cat &lt;&amp;3</p>
</li>
<li><p>exec 3&gt;temp</p>
</li>
<li><p>ls &gt;&amp;3</p>
</li>
<li><p>exec 3&gt;&gt;temp</p>
</li>
<li><p>ls &gt;&gt;&amp;3</p>
</li>
</ul>
<h3 id="数组和关联数组">数组和关联数组</h3>
<ul>
<li><p>array=(1 2 3 4 5 6)</p>
</li>
<li><p>array[1]=1</p>
</li>
<li><p>echo $array[1]</p>
</li>
<li><p>echo $array[*]</p>
</li>
<li><p>echo ${#array} </p>
</li>
<li><p>declare -A ass_array      :   (声明关联数组)</p>
</li>
<li><p>ass_array[asd]=afhkjwe</p>
</li>
<li><p>echo ${ass_array[*]} </p>
</li>
</ul>
<h3 id="变量含义">变量含义</h3>
<ul>
<li>$$ :  Shell本身的PID（ProcessID） </li>
<li>$! :  Shell最后运行的后台Process的PID </li>
<li>$? :  最后运行的命令的结束代码（返回值） </li>
<li>$- :  使用Set命令设定的Flag一览 </li>
<li>$<em> :  所有参数列表。如”$</em>“用「”」括起来的情况、以”$1 $2 … $n”的形式输出所有参数。 </li>
<li>$@ :  所有参数列表。如”$@”用「”」括起来的情况、以”$1” “$2” … “$n” 的形式输出所有参数。 </li>
<li>$# :  添加到Shell的参数个数 </li>
<li>$0 :  Shell本身的文件名 </li>
<li>$1～$n :  添加到Shell的各参数值。$1是第1参数、$2是第2参数…。 </li>
</ul>
<ul>
<li>在命令末尾加&amp; : 将命令至于后台并执行脚本</li>
</ul>
<h3 id="获取终端信息">获取终端信息</h3>
<ul>
<li><p>tput cols   : 获取终端列数</p>
</li>
<li><p>tput lines   : 获取终端行数</p>
</li>
<li><p>tput longname   : 终端名</p>
</li>
<li><p>tput cup 100 100: 移动光标</p>
</li>
<li><p>tputsetb 4   : 设置背景色</p>
</li>
<li><p>tputsetf 4   : 设置字体色</p>
</li>
<li><p>tput bold   : 加粗</p>
</li>
<li><p>tput smul/tput rmul   : 下划 </p>
</li>
<li><p>tputed   : 删除光标到行尾的内容</p>
</li>
<li><p>stty -echo/stty echo   : 禁止回显与回显</p>
</li>
</ul>
<h3 id="日期">日期</h3>
<ul>
<li><p>date : 读取日期</p>
</li>
<li><p>date +%s : 打印纪元时</p>
</li>
<li><p>date “+%d %B %Y”</p>
</li>
</ul>
<h3 id="输出-1">输出</h3>
<ul>
<li><p>printf “hello world”</p>
</li>
<li><p>printf “%-10s” Mark</p>
</li>
<li><p>echo -e “\t\n”</p>
</li>
</ul>
<ul>
<li>echo -e “\e[1;31mThis is red text\e[0m”  </li>
</ul>
<h3 id="变量赋值-1">变量赋值</h3>
<ul>
<li><p>var=app</p>
</li>
<li><p>var = app       :  这是比较操作</p>
</li>
<li><p>echo ${var}le</p>
</li>
</ul>
<ul>
<li>export PATH=”${PATH}:/usr/sbin”</li>
</ul>
<ul>
<li><p>echo $UID       :  显示用户身份,root用户为0</p>
</li>
<li><p>echo ${#var}      :   #显示变量的长度</p>
</li>
</ul>
<h3 id="变量运算-1">变量运算</h3>
<ul>
<li><p>var1=1;var2=3</p>
</li>
<li><p>let result=var1+var2</p>
</li>
<li><p>result=$[var1+var2]</p>
</li>
<li><p>echo $var1*$var2+3 | bc     :    bc:科学计算器</p>
</li>
<li><p>echo “scale=1;3/8” | bc      :    小数精度1</p>
</li>
<li><p>echo “ibase=10;obase=2;sqrt(100) “ | bc     :     小数精度1</p>
</li>
</ul>
<h3 id="重定向-1">重定向</h3>
<ul>
<li><p>echo “QW” &gt; temp     :  截断存储</p>
</li>
<li><p>echo “QW” &gt;&gt; temp    :   追加存储</p>
</li>
<li><p>ls + 2&gt; temp     :   错误信息重定向到文件</p>
</li>
<li><p>ls + 2&gt;&amp;1 temp   :    标准信息和错误信息重定向到文件</p>
</li>
<li><p>ls + &amp;&gt; temp    :    标准信息和错误信息重定向到文件</p>
</li>
<li><p>bash &lt; temp :       :    从文件中读取数据</p>
</li>
</ul>
<h3 id="文件描述符-1">文件描述符</h3>
<ul>
<li><p>exec 3&lt;temp</p>
</li>
<li><p>cat &lt;&amp;3</p>
</li>
<li><p>exec 3&gt;temp</p>
</li>
<li><p>ls &gt;&amp;3</p>
</li>
<li><p>exec 3&gt;&gt;temp</p>
</li>
<li><p>ls &gt;&gt;&amp;3</p>
</li>
</ul>
<h3 id="数组和关联数组-1">数组和关联数组</h3>
<ul>
<li><p>array=(1 2 3 4 5 6)</p>
</li>
<li><p>array+=(7)</p>
</li>
<li><p>array[1]=1</p>
</li>
<li><p>echo $array[1]</p>
</li>
<li><p>echo $array[*]</p>
</li>
<li><p>echo ${#array} </p>
</li>
<li><p>declare -A ass_array      :   (声明关联数组)</p>
</li>
<li><p>ass_array[asd]=afhkjwe</p>
</li>
<li><p>echo ${ass_array[*]} </p>
</li>
</ul>
<h3 id="变量含义-1">变量含义</h3>
<ul>
<li>$$ :  Shell本身的PID（ProcessID） </li>
<li>$! :  Shell最后运行的后台Process的PID </li>
<li>$? :  最后运行的命令的结束代码（返回值） </li>
<li>$- :  使用Set命令设定的Flag一览 </li>
<li>$<em> :  所有参数列表。如”$</em>“用「”」括起来的情况、以”$1 $2 … $n”的形式输出所有参数。 </li>
<li>$@ :  所有参数列表。如”$@”用「”」括起来的情况、以”$1” “$2” … “$n” 的形式输出所有参数。 </li>
<li>$# :  添加到Shell的参数个数 </li>
<li>$0 :  Shell本身的文件名 </li>
<li>$1～$n :  添加到Shell的各参数值。$1是第1参数、$2是第2参数…。 </li>
</ul>
<h3 id="获取终端信息-1">获取终端信息</h3>
<ul>
<li><p>tput cols   : 获取终端列数</p>
</li>
<li><p>tput lines   : 获取终端行数</p>
</li>
<li><p>tput longname   : 终端名</p>
</li>
<li><p>tput cup 100 100: 移动光标</p>
</li>
<li><p>tputsetb 4   : 设置背景色</p>
</li>
<li><p>tputsetf 4   : 设置字体色</p>
</li>
<li><p>tput bold   : 加粗</p>
</li>
<li><p>tput smul/tput rmul   : 下划 </p>
</li>
<li><p>tputed   : 删除光标到行尾的内容</p>
</li>
<li><p>stty -echo/stty echo   : 禁止回显与回显</p>
</li>
</ul>
<h3 id="日期-1">日期</h3>
<ul>
<li><p>date : 读取日期</p>
</li>
<li><p>date +%s : 打印纪元时</p>
</li>
<li><p>date “+%d %B %Y”</p>
</li>
</ul>
<h3 id="调试">调试</h3>
<ul>
<li><p>bash -x <em>*</em>.sh</p>
</li>
<li><p>set -x/set +x : 调试开始/调试结束</p>
</li>
</ul>
<h3 id="函数">函数</h3>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">print</span><span class="params">()</span>

{</span>


    <span class="keyword">echo</span> $<span class="number">1</span> $<span class="number">2</span>;


}
</code></pre><ul>
<li><p>export -f print : 将函数导出到环境变量</p>
</li>
<li><p>$? :  最后运行的函数的返回值</p>
</li>
</ul>
<h3 id="管道">管道</h3>
<ul>
<li><p>ls | cat -n : ls的输出通过管道传给cat</p>
</li>
<li><p>var=$(ls | cat -n)  : ()表示生成一个子进程,该进程本身是一个独立的进程.再通过$取值返回</p>
</li>
<li><p>echo $var</p>
</li>
</ul>
<h3 id="读取字符">读取字符</h3>
<ul>
<li><p>read -n  2 var : 读取2个字符存入变量var中</p>
</li>
<li><p>read -s var : 无回显</p>
</li>
<li><p>read -p “Enter input” var : 输入提示</p>
</li>
<li><p>read -t 2 var : 存入变量时限2s</p>
</li>
<li><p>read -d “:” var : “:”作为输入的终结</p>
</li>
</ul>
<h3 id="循环">循环</h3>
<pre><code> <span class="keyword">while</span> <span class="keyword">condition</span>

<span class="keyword">do</span>

   command1 : 
</code></pre><p>true 等价与 “:”  但是”:”更快</p>
<pre><code>   command2
   command3


<span class="keyword">done</span>

----------------------------

<span class="keyword">for</span> 
</code></pre><p>var in $list;</p>
<pre><code><span class="keyword">do</span>

    command1

<span class="keyword">done</span>
</code></pre><h3 id="字段分隔符文本处理">字段分隔符文本处理</h3>
<p>oldIFS=$IFS</p>
<p>IFS=,ASD,</p>
<p>for var in $data </p>
<p>do </p>
<p>echo $var</p>
<p>done ### 比较和测试<br>   if [ condition ]<br>   then<br>       command1<br>   else<br>       command2<br>   fi</p>
<h4 id="算术比较:_num1_–eq_num2_:_如果num1等于_num2，测试结果为0">算术比较:    num1 –eq num2 : 如果num1等于 num2，测试结果为0</h4>
<p>   num1 –ge num2 : 如果num1大于或等于 num2，测试结果为0<br>   num1 –gt num2 : 如果num1大于 num2，测试结果为0<br>   num1 –le num2 : 如果num1小于或等于 num2，测试结果为0<br>   num1 –lt  num2 : 如果num1小于 num2，测试结果为0<br>   num1 –ne num2 : 如果num1不等于 num2，测试结果为0</p>
<h4 id="字符串比较:_[string]_:_测试字符串string是否不为空">字符串比较:    [string] : 测试字符串string是否不为空</h4>
<p>   [-n string] : 测试字符串string是否不为空<br>   [-z string] : 测试字符串string是否为空<br>   [string1=string2] : 测试字符串string1是否与字符串string2相同<br>   [string1!=string2] : 测试字符串string1是否与字符串string2不相同</p>
<h4 id="文件操作比较:_-d_file_:_测试file是否为目录_-e_file_:_测试file是否存在">文件操作比较:    -d file : 测试file是否为目录    -e file : 测试file是否存在</h4>
<p>   -f file : 测试file是否为普通文件<br>   -r file : 测试file是否是进程可读文件<br>   -s file : 测试的长度是否不为0<br>   -w file : 测试file是否是进程可写文件<br>   -x file : 测试file是否是进程可执行文件<br>   -L file : 测试file是否为符号化链接</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-04-15T04:41:24.000Z"><a href="/2014/04/15/网络/">4月 15 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/04/15/网络/">网络</a></h1>
  

    </header>
    <div class="entry">
      
        <h3 id="IP配置(iwconfig更改无线网络参数)">IP配置(iwconfig更改无线网络参数)</h3>
<ul>
<li><p>ifconfig en0 : 列出详细配置</p>
</li>
<li><p>ifconfig en0 192.168.1.123 netmask 255.255.255.0 broadcast 192.168.1.255 : 设置ip,掩码和广播域</p>
</li>
<li><p>ifconfig en0 ether 60:03:08:91:d8:58 : 设置mac地���</p>
</li>
</ul>
<h3 id="DNS查找">DNS查找</h3>
<ul>
<li><p>host www.baidu.com  : 列出域名的IP地址</p>
</li>
<li><p>nslookup www.baidu.com  : 列出dns资源记录</p>
</li>
<li><p>netstat -r : 路由表(route)</p>
</li>
</ul>
<h3 id="使用ping和traceroute">使用ping和traceroute</h3>
<ul>
<li><p>ping -c 2 IP : 指定传送2个包</p>
</li>
<li><p>traceroute IP : 追踪路由</p>
</li>
</ul>
<h3 id="SSH登录">SSH登录</h3>
<ul>
<li><p>ssh user@HOST : ssh登录</p>
</li>
<li><p>ssh -p 422 user@IP : 指定端口422</p>
</li>
<li><p>ssh user@host &#39;COMMANDS&#39; : 远程计算机执行命令</p>
</li>
<li><p>ssh -C user@host &#39;COMMANDS&#39; : -C压缩传输</p>
</li>
<li><p>ssh -X user@host &#39;COMMANDS&#39; : -X启动图形化输出</p>
</li>
<li><p>ssh-keygen -t rsa : 创建ssh密钥 公钥需要放入远程服务器的~/.ssh/authotized_keys</p>
</li>
</ul>
<h3 id="SSH端口转发">SSH端口转发</h3>
<ul>
<li><p>ssh -L 8000:host2:80 user@host1 : 讲host1的8000端口转发到host2的80端口</p>
</li>
<li><p>ssh -fL 8000:host2:80 user@host1 : -f参数指定ssh执行命令时转入后台运行</p>
</li>
<li><p>ssh -R 8000:localhost:80 user@host : 反向转发远程主机的8000端口到80端口上</p>
</li>
<li><p>sshfs -o allow_other user@host:/home/path  PATH : 挂载远程主机的目录</p>
</li>
<li><p>umount PATH : 卸载远程主机</p>
</li>
</ul>
<h3 id="网络流量与端口分析">网络流量与端口分析</h3>
<ul>
<li><p>lsof -i : 列出系统当前开放的端口以及运行在端口的详细信息</p>
</li>
<li><p>netstat -tnp : 列出开放端口与服务</p>
</li>
</ul>
<h3 id="创建套接字">创建套接字</h3>
<ul>
<li><p>nc -l 8080 : 设置侦听套接字(接收数据)</p>
</li>
<li><p>nc HOST 8080 : 连接到套接字(发送数据)</p>
</li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-04-15T04:41:24.000Z"><a href="/2014/04/15/压缩和解压缩/">4月 15 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/04/15/压缩和解压缩/">压缩和解压缩</a></h1>
  

    </header>
    <div class="entry">
      
        <h3 id="zip归档和压缩">zip归档和压缩</h3>
<p>zip -r file.zip file1 file2 file3 … : zip压缩文件,-r递归</p>
<p>unzip file.zip : 解压缩</p>
<h3 id="tar归档">tar归档</h3>
<ul>
<li>tar -xzvf target.tar.gz : 解压gz</li>
<li>tar -xjvf target.tar.bz : 解压bz</li>
</ul>
<ul>
<li><p>tar -cf target file1 file2 file3 … : 对文件进行归档,c表示创建文件</p>
</li>
<li><p>tar -tf target : 显示归档文件,f指定文件名</p>
</li>
<li><p>tar -tvf target : 显示归档中详细的文件</p>
</li>
<li><p>tar -rvf target filen … : 追加文件filen,并显示详细信息</p>
</li>
<li><p>tar -rf target filen … : 追加文件filen</p>
</li>
<li><p>tar -xf target : 从归档中提取文件或者文件夹</p>
</li>
<li><p>tar -Af target1 target2 : 合并归档</p>
</li>
<li><p>tar -ruf target filen : 追加文件当同名文件时间戳较新时才添加</p>
</li>
<li><p>tar -cf —exclude “*.txt” target : 排除某些文件</p>
</li>
</ul>
<hr>
<p><div class="bct fc05 fc11 nbw-blog ztag"><br>概览<br>tar [-cxtzjvfpPN] target.tar.gz 文件与目录 ….<br><br>参数：<br>-c ：建立一个压缩文件的参数指令(create的意思)<br>-x ：解开一个压缩文件的参数指令<br>-t ：查看tarfile里面的文件<br>这三个一定会选一个。特别注意，在参数中，c/x/t只能同时出现一个，因为不可能同时压缩与解压缩。<br><br>-z ：处理gzip压缩包<br>-j ：处理bzip2压缩包<br>-v ：压缩的过程中显示文件，打印详细信息，不建议用在背景执行过程<br>-f ：使用的压缩文件名，请留意，在f之后要立即接档名，不要再加参数<br>错误：『 tar -zcvfP tfile sfile』<br>正确：『 tar -zcvPf tfile sfile』<br><br>-C ：改变当前路径<br>-p ：使用原文件的原来属性（属性不会依据使用者而变）<br>-P ：可以使用绝对路径来压缩<br>-N ：比后面接的日期(yyyy/mm/dd)还要新的才会被打包进新建的文件中<br>—exclude FILE：在压缩的过程中，不要将FILE打包<br><br><br>实例：<br>1，打包+压缩<br><span style="font-size: 10pt;"><span style="font-family: 宋体;">&nbsp;[root@linux ~]# tar -cvf target.tar aa bb<br>&nbsp;# 打包&nbsp; aa bb =&gt; target.tar</span></span><br><span style="font-size: 10pt;"><span style="font-family: 宋体;"><br>&nbsp;[root@linux ~]# tar -czvf target.tar.gz aa bb<br>&nbsp;#打包+压缩&nbsp; aa bb =&gt; target.tar.gz<br></span></span><span style="font-size: 10pt;"><span style="font-family: 宋体;"><br>&nbsp;[root@linux ~]# tar -czvf target.tar.gz cc_dir<br></span></span><span style="font-size: 10pt;"><span style="font-family: 宋体;">&nbsp;#打包+压缩&nbsp; cc_dir下得所有内容 =&gt; target.tar.gz</span></span><br><span style="font-size: 10pt;"><span style="font-family: 宋体;">&nbsp;#同时会保留cc_dir的目录结构</span></span><br><br>2，解压<br><span style="font-size: 10pt;"><span style="font-family: 宋体;">&nbsp;[root@linux ~]# tar -xzvf target.tar.gz<br>&nbsp;[root@linux ~]# tar -xjvf target.tar.bz<br>&nbsp; #解压</span></span><span style="font-size: 10pt;"><span style="font-family: 宋体;">target.tar.gz的内容到当前文件夹<br><br></span></span><span style="font-size: 10pt;"><span style="font-family: 宋体;">&nbsp;[root@linux ~]# tar -xzvf target.tar.gz -C ./cc_dir<br>&nbsp;# 进入cc_dir<br>&nbsp;# 解压</span></span><span style="font-size: 10pt;"><span style="font-family: 宋体;">target.tar.gz的内容到当前文件夹<br>&nbsp;# 等价于：<br>&nbsp;# cd ./cc_dir<br>&nbsp;# tar -xzvf ../target.tar.gz<br><br>3，查看压缩包内容<br></span></span><span style="font-size: 10pt;"><span style="font-family: 宋体;"><div>&nbsp;[root@linux ~]# tar -ztvf target.tar.gz</div> <div>&nbsp;# 由于我们使用gzip压缩，所以要查阅该tar file内的文件时，</div> <div>&nbsp;# 就得要加上z这个参数了，否则会很慢</div></span></span><span style="font-size: 10pt;"><span style="font-family: 宋体;"><br>4，解压指定文件<br>&nbsp;a. 首先查看压缩包内容：<br></span></span><span style="font-size: 10pt;"><span style="font-family: 宋体;">&nbsp; [root@linux ~]# tar -ztvf target.tar.gz<br>&nbsp; # 假如看到:<br>&nbsp; # cc_dir/aa<br>&nbsp; # cc_dir/bb<br>&nbsp;b. 解压指定文件<br></span></span><span style="font-size: 10pt;"><span style="font-family: 宋体;"><div>&nbsp; [root@linux tmp]# tar -zxvf target.tar.gz cc_dir/aa</div> <div><span style="font-size: 10pt;"><span style="font-family: 宋体;">&nbsp; </span></span># 只解压<span style="font-size: 10pt;"><span style="font-family: 宋体;">cc_dir/aa</span></span></div> <div><span style="font-size: 10pt;"><span style="font-family: 宋体;">&nbsp; </span></span># 如果含有根目录，例如/usr/local/xxx，解压时/被拿掉<br><span style="font-size: 10pt;"><span style="font-family: 宋体;">&nbsp; </span></span># 在当前路径下创建usr/local/xxx<br></div></span></span></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>






<nav id="pagination">
  
  
    <a href="/page/2/" class="alignright next">下一页</a>
  
  <div class="clearfix"></div>
</nav></div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜索">
    <input type="hidden" name="q" value="site:yoursite.com">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">分类</h3>
  <ul class="entry">
  
    <li><a href="/categories/C++11/">C++11</a><small>14</small></li>
  
    <li><a href="/categories/HTML/">HTML</a><small>14</small></li>
  
    <li><a href="/categories/SQL/">SQL</a><small>11</small></li>
  
    <li><a href="/categories/boost/">boost</a><small>9</small></li>
  
    <li><a href="/categories/python/">python</a><small>1</small></li>
  
    <li><a href="/categories/shell/">shell</a><small>12</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">标签</h3>
  <ul class="entry">
  
    <li><a href="/tags/C++11/">C++11</a><small>14</small></li>
  
    <li><a href="/tags/HTML/">HTML</a><small>14</small></li>
  
    <li><a href="/tags/SQL/">SQL</a><small>11</small></li>
  
    <li><a href="/tags/boost/">boost</a><small>9</small></li>
  
    <li><a href="/tags/python/">python</a><small>1</small></li>
  
    <li><a href="/tags/shell/">shell</a><small>12</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2014 Qiang Wei
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>